diff -Nru ppp-2.3.11/chat/Makefile.linux ppp-2.3.11.new/chat/Makefile.linux
--- ppp-2.3.11/chat/Makefile.linux	Sat Feb 19 19:06:30 2000
+++ ppp-2.3.11.new/chat/Makefile.linux	Sat Feb 19 19:05:59 2000
@@ -6,7 +6,7 @@
 CDEF4=	-DFNDELAY=O_NDELAY		# Old name value
 CDEFS=	$(CDEF1) $(CDEF2) $(CDEF3) $(CDEF4)
 
-CFLAGS=	-O2 -g -pipe $(CDEFS)
+CFLAGS=	-pipe $(CDEFS) -Wall $(OPT_FLAGS)
 
 INSTALL= install
 
diff -Nru ppp-2.3.11/linux/Makefile.top ppp-2.3.11.new/linux/Makefile.top
--- ppp-2.3.11/linux/Makefile.top	Sat Feb 19 19:06:30 2000
+++ ppp-2.3.11.new/linux/Makefile.top	Sat Feb 19 19:05:59 2000
@@ -2,7 +2,7 @@
 
 
 BINDIR = $(DESTDIR)/usr/sbin
-MANDIR = $(DESTDIR)/usr/man
+MANDIR = $(DESTDIR)/usr/share/man
 ETCDIR = $(DESTDIR)/etc/ppp
 
 # uid 0 = root
diff -Nru ppp-2.3.11/pppd/Makefile.linux ppp-2.3.11.new/pppd/Makefile.linux
--- ppp-2.3.11/pppd/Makefile.linux	Sat Feb 19 19:06:30 2000
+++ ppp-2.3.11.new/pppd/Makefile.linux	Sat Feb 19 19:07:39 2000
@@ -4,8 +4,8 @@
 #
 
 # Default installation locations
-BINDIR = /usr/sbin
-MANDIR = /usr/man
+BINDIR = $(DESTDIR)/usr/sbin
+MANDIR = $(DESTDIR)/usr/share/man
 
 PPPDSRCS = main.c magic.c fsm.c lcp.c ipcp.c upap.c chap.c md5.c ccp.c \
 	   ipxcp.c auth.c options.c sys-linux.c md4.c chap_ms.c cbcp.c \
@@ -26,7 +26,7 @@
 
 # CC = gcc
 #
-COPTS = -O2 -pipe -Wall -g
+COPTS = $(OPT_FLAGS) -pipe -Wall
 LIBS =
 
 ifneq ($(wildcard /usr/lib/libcrypt.*),)
@@ -101,14 +101,12 @@
 endif
 
 
-INSTALL= install -o root
+INSTALL= install
 
 install: pppd
 	mkdir -p $(BINDIR) $(MANDIR)
-	$(INSTALL) -s -c -m 4550 pppd $(BINDIR)/pppd
-	if ! chgrp pppusers $(BINDIR)/pppd 2>/dev/null; then \
-	  chmod o+rx $(BINDIR)/pppd; fi
-	$(INSTALL) -c -m 444 pppd.8 $(MANDIR)/man8
+	$(INSTALL) -s -c pppd $(BINDIR)/pppd
+	$(INSTALL) -c pppd.8 $(MANDIR)/man8
 
 pppd: $(PPPDOBJS)
 	$(CC) $(CFLAGS) $(LDFLAGS) -o pppd $(PPPDOBJS) $(LIBS)
diff -Nru ppp-2.3.11/pppdump/Makefile.linux ppp-2.3.11.new/pppdump/Makefile.linux
--- ppp-2.3.11/pppdump/Makefile.linux	Sat Feb 19 19:06:30 2000
+++ ppp-2.3.11.new/pppdump/Makefile.linux	Sat Feb 19 19:08:27 2000
@@ -1,4 +1,4 @@
-CFLAGS= -O -I../include/net
+CFLAGS= $(OPT_FLAGS) -I../include/net
 OBJS = pppdump.o bsd-comp.o deflate.o zlib.o
 
 INSTALL= install
@@ -6,7 +6,7 @@
 all:	pppdump
 
 pppdump: $(OBJS)
-	$(CC) -o pppdump $(OBJS)
+	$(CC) $(OPT_FLAGS) -o pppdump $(OBJS)
 
 clean:
 	rm -f pppdump $(OBJS) *~
diff -Nru ppp-2.3.11/pppstats/Makefile.linux ppp-2.3.11.new/pppstats/Makefile.linux
--- ppp-2.3.11/pppstats/Makefile.linux	Sat Feb 19 19:06:30 2000
+++ ppp-2.3.11.new/pppstats/Makefile.linux	Sat Feb 19 19:05:59 2000
@@ -6,12 +6,12 @@
 PPPSTATSRCS = pppstats.c
 PPPSTATOBJS = pppstats.o
 
-#CC = gcc
-COPTS = -O
+CC = gcc
+COPTS = $(OPT_FLAGS) -Wall
 COMPILE_FLAGS = -D_linux_ -I../include
 LIBS =
 
-INSTALL= install -o root -g daemon
+INSTALL= install # -o root -g daemon
 
 CFLAGS = $(COPTS) $(COMPILE_FLAGS)
 
diff -urN ppp-2.3.11.org/pppd/Makefile.linux ppp-2.3.11/pppd/Makefile.linux
--- ppp-2.3.11.org/pppd/Makefile.linux	Tue Feb 22 21:30:19 2000
+++ ppp-2.3.11/pppd/Makefile.linux	Tue Feb 22 21:42:05 2000
@@ -44,7 +44,7 @@
 
 HAS_SHADOW=y
 #USE_PAM=y
-#HAVE_INET6=y
+HAVE_INET6=y
 
 PLUGIN=y
 
